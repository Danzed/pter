@import 'src/assets/styles/mixins.scss';

.cui-messaging {
  overflow-x: hidden;
  position: relative;

  .card-header {
    padding: 0.84rem 1.25rem !important;
    border-bottom: 1px solid $gray-border !important;
  }

  ::ng-deep {
    .cui-avatar {
      border-width: 2px;
    }

    .ant-tabs-vertical > .ant-tabs-bar .ant-tabs-tab {
      padding: 0;
      margin: 0;
    }

    .ant-tabs-vertical.ant-tabs-left > .ant-tabs-bar {
      border-right: none;
    }

    .ant-tabs-bar {
      width: 100%;
    }

    .ant-tabs-ink-bar {
      background: none;
    }

    .ant-tabs-nav .ant-tabs-tab-active {
      .cui-messaging-tab {
        background: $default;
        color: $white;
      }

      .cui-messaging-tab-name {
        color: $white;
      }

      .cui-messaging-tab-time {
        color: $white;
      }

      .cui-messaging-tab-text {
        color: $white;
      }
    }
  }

  &-sidebar {
    width: rem(320);
    position: absolute;
    top: 0;
    left: 0;
    border-right: 1px solid $gray-border;
    overflow-y: auto;
    height: 100%;

    @media (max-width: $md-max-width) {
      position: static;
      width: 100%;
      border-right: none;
    }
  }

  &-sidebar-header {
    padding: rem(11) rem(10);
    border-bottom: 1px solid $gray-border;
  }

  &-tab {
    padding: rem(10) rem(15) rem(6);
    border-bottom: 1px solid $gray-border;
    &:hover {
      background: $gray-lighten-more;
    }
  }

  &-tab-avatar {
    float: left;
  }

  &-tab-content {
    margin-left: rem(70);
    padding-top: rem(5);
  }

  &-tab-time {
    color: $gray-darken;
    float: right;
    position: relative;
    top: rem(3);
  }

  &-tab-name {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    margin-right: rem(30);
    text-align: left;
    color: $text-darken-more;
  }

  &-tab-text {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    color: $gray-darken;
    text-align: left;
  }

  &-content-wrapper {
    margin-left: rem(14);
    margin-right: rem(14);
  }

  &-content {
    margin-left: rem(320);

    @media (max-width: $md-max-width) {
      margin-left: 0;
    }
  }

  &-chat {
    overflow-x: hidden;
    overflow-y: auto;
  }

  &-item {
    padding: rem(10) 0;
  }

  &-item-right {
    .cui-messaging-item-content {
      margin-left: 0;
      margin-right: 70px;

      &:after {
        left: 100%;
        border: rem(7) solid transparent;
        border-left-color: #f2f4f8;
      }
    }

    .cui-messaging-item-avatar {
      float: right;
    }
  }

  &-item-avatar {
    float: left;
  }

  &-item-content {
    padding: rem(10) rem(15);
    background: #f2f4f8;
    margin-left: rem(70);
    border-radius: 5px;
    position: relative;

    &:after {
      position: absolute;
      top: rem(22);
      left: rem(-14);
      width: 0;
      height: 0;
      display: block;
      content: '';
      border: rem(7) solid transparent;
      border-right-color: #f2f4f8;
    }

    ::ng-deep {
      img {
        border-radius: 3px;
        margin-bottom: rem(10);
        max-width: rem(200);
        margin-right: rem(5);
      }
    }
  }
}
